import { request } from "./util.js"
import { map_song_list } from "./util.js"

export const get_artist_songs = async (id, cookie) => {
    id = parseInt(id)
    const data = {
        id,
    }

    const res = await request('POST', `https://music.163.com/api/artist/top/song`, data, {
        crypto: 'weapi',
        cookie: {NMTID=00OSBGd_f9k5yymBk8mmj9tHIt-JL8AAAGJhbCLvg; JSESSIONID-WYYY=H8xphayxfetbqWAebe%2BQmbEC5hGkH2ihJe2grkR%2B0G3TQ83nnlA838GBvoFykvrMCHhShRFxXXvpZgEHgbmGwtVofBJvADRc%2B0Gog295bUIbZZTTFjm%2BKZWSn1cTBns2cpAxJOUIfgJx3Axm4EFdj%5CXwRfysabo0X5d%2BRkZTx9eEuFKq%3A1690166887505; _iuqxldmzr_=32; WEVNSM=1.0.0; WNMCID=otlxxq.1690165089365.01.0; __snaker__id=OZqtkjmpQc2sY677; ntes_utid=tid._.hiKik1zCUr5FAlAUEEaFgtVzylSMNvWm._.0; sDeviceId=YD-uEY4vnyLYGZBUgFABEaF1tE3ywGZNvMe; WM_NI=JjptldDF48zY7s55dlXrBau4YNcgKoWOe6QJyj3rmMAmblqe5794wpkaLgmljTtDtl4BOXSr0fO0PJpkaudfhnGsuXXr4g5pUytq1n85Vq3bCj4HqYfD9PumLWbqiYrRd28%3D; WM_NIKE=9ca17ae2e6ffcda170e2e6eeccd46d9892aaa3d65287a88ba6d44e978b8a83c46db88fa68bb4598beeae8be52af0fea7c3b92a8ab6c095ef70889afcd9f953f5adfbd6e7689cae8e82f8409b92ad88ca659591abd7d442bbb6fd93f04783b3ae8df46ff7e9f7d5f67ca9bf8488f068aa8cbca5f768f89e81b9d27af4ba81d1d342b4b5af96e76eacb28994f8549caefc88b87c97a7bc92b466fceb9a92b26a81b6fca9f453a69cf7b1f8679089ae92ec53b28eacd3bb37e2a3; gdxidpyhxdE=ExsNPcB%2BgBlUYmvKb9RNDw36pYr7pXGMbMC%5CRwMJLG26%2BZBzxeiiG%2BZSJ7R%2FSzaZIMjI6rOs9LiQobQ5NJCPm1N7tiQjTRkX3eCHqzKsf%2B8tQq7GH3PNvvvbQ2nwBpKL6Mv7tfXmRABLNquSSaJ%5CSKoa%2FpdOyj91b3d%2Bs9YH2QSmqhKX%3A1690165995016; YD00000558929251%3AWM_NI=KIsJRdTLSNMcxQ8W9BjYFfuZVwYfoZNlyqr%2Bw3dy290P3106dXah%2F2yvlPVLNyZg67wMQ0mhBb7L8gcnMuDLiFUkBxB3mQGUSgpSyqgKD0NdNujQ0mwqU%2Bai5PUfqFYySlA%3D; YD00000558929251%3AWM_NIKE=9ca17ae2e6ffcda170e2e6ee98ed7db7978fd0bc6597a88fb2c55b829b9eacd568b48aa2d4ef509ba7bab3ef2af0fea7c3b92a8997bdabd17098949dafd069bc8ff8b8bc4aaa878a87f85296a99787ee528eb4b792f121b5edac9ab133f490fdd2b33ea888af89ae3abbaaa4b1d5488ea79688b53db5939fd1f06482bef9adbb6da1b28396c748ab9a9b8cc17482eda3b2c65f91b9c0b4fc7ba5958cd1cd708eaba6b2b367b5af9bcce463f7909b87f44e9ba79d8dc437e2a3; YD00000558929251%3AWM_TID=hgRNMMmDW9BAFFEEBRaVkoVn3kSdnqEl; WM_TID=WfVWjw1%2FXjNEBRUFUBaQh9V3nlTII%2BON; MUSIC_U=009BA6E003C8040A98033074930C54DFCB256C1B75BF3C7EC8D73E217A05DB60A84102EB37DE2EAEE3F723FC0F6908828EB554D79F41DE0C98E547990DF2B3B4E7A9DB2B4DDFFCF7C1F40FC747F2D81B10805D7DDC38730AB52BF3650338E73F1738040FBF7107886F66C4DC892C90CEF7066B6CD38379EC0C0A1A1C2A76AA050B37FEC983439C21D03E1991DF60A9FEFEBC4C0FA1CE5BFB0A0BD950A441F2BBC0BD8B6D61AE15478BBD8EB3DFEFA8FFAB9198D9A2DCFA595E20F5EFE86C5A79A93079150351657AFECF6A01F2B7BC9498BE998A9C14DCA39DCC4103BC058472174874ED01DF32A0ABDBAF41AE0C12A042987DBFA2D68926C78D7C6937C030674007FFE9156F0C90195AD77F8F7AF36D2C5DF12E0CB9F90F228919B4A1E67403D85FA1E123261744C695DF63552A880A1B925191A38F6C9B73F13B267F35E8E2637DC7BA4B720FF48D6C45C72C5AD9141429DCA6223DC4D56FDCD92F20D7869CE40BD0FA6DBC65E65FF332E864DCD43E13; __remember_me=true; __csrf=adb6c8b7916cacafd721dff1433a02e1; ntes_kaola_ad=1; csrfToken=NXq543kcQPs9RAVTpYc7uV2H},
    })

    return map_song_list(res)

}

// const res = await get_artist_songs("12441107");
// console.log(res)
